<pre id="demo"></pre>
<script>
    var input = 325489;
    
    var out = "";
    var velikost = 600;
    var tabela = Array(velikost*velikost);
    posX = Math.floor(velikost/2);
    posY = Math.floor(velikost/2);
    var zavoj = 0;
    var stranica = 1;
    //for(var i=0; i<input; i++){
    var s = 0;
        for(var j=1; j<=input; j++){
            tabela[posY*velikost+posX] = j;
            if(j == input)console.log(Math.abs(Math.floor(velikost/2)-posX) + Math.abs(Math.floor(velikost/2)-posY));
            obrni();
            s++;
            if(s >= stranica){
                s = 0;
                zavoj++;

                if(zavoj >= 4){
                    zavoj = 0;
                }
                if(zavoj%2 == 0)stranica++;
            }
        }
    //}
    
    function obrni(){
        if(zavoj == 0)posX++;
        else if(zavoj == 1)posY--;
        else if(zavoj == 2)posX--;
        else if(zavoj == 3)posY++;
    }
    
    for(var i=0; i<tabela.length; i++){
        if(tabela[i] == undefined)tabela[i] = ".";
        out += tabela[i]+"\t";
        if((i+1)%velikost == 0)out += "\n";
    }
    document.getElementById("demo").innerHTML = out;
    
    
</script>